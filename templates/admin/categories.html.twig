{% extends 'admin/base.html.twig' %}

{% block body %}
<div class="container">
  <div class="row">
    <div class="col-12 col-md-5 mb-3 mb-md-0 order-md-last">
      <div class="card bg-dark">
        <div class="card-header">
          <h3 class="h4 mb-0">Ajouter une catégorie</h3>
        </div>
        <div class="card-body">
          <div class="alert alert-warning mb-0">// TODO form-category</div>
        </div>
      </div>
    </div>
    <div class="col-12 col-md-7">
      <div class="card bg-dark overflow-hidden">
        <div class="card-header">
          <h3 class="h4 mb-0">Liste des catégories</h3>
        </div>
        <table class="table table-striped table-monospaced table-dark category-entities mb-0">
          <thead>
            <tr>
              <th class="col-id">#</th>
              <th class="col-label">Libellé <small class="text-muted">(slug)</small></th>
              <th class="col-import-regex">RegEx d'import.</th>
              <th class="col-actions">Actions</th>
            </tr>
          </thead>
          <tbody>
          {% for category in categories %}
            <tr>
              <td class="col-id">{{ category.id }}</td>
              <td class="col-label">
                <div class="row mx-0 align-items-center">
                  <div class="col-auto px-0">
                    <span class="avatar avatar-sm"{% if category.isDefault == true %} data-toggle="tooltip" data-placement="top" title="default"{% endif %}>
                      <span class="avatar-text rounded-circle"
                        style="background-color: {{ category.color }}">
                      <span class="icon icon-{{ category.icon }}"></span>
                    </span>
                  </span>
                  </div>
                  <div class="col-9 px-0 pl-3">
                    <div>{{ category.label }} <small class="text-muted">({{ category.slug }})</small></div>
                    <small class="text-muted">Créé par <b>{{ category.user.username }}</b></small>
                  </div>
                </div>
              </td>
              <td class="col-import-regex">
                {{ category.importRegex }}
              </td>
              <td class="col-actions">
                <a href="#todo-edit" class="btn btn-secondary my-1">Edit.</a>
                <a href="#todo-delete" class="btn btn-danger my-1">Suppr.</a>
              </td>
            </tr>
          {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
{% endblock %}
